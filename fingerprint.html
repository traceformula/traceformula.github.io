<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Browser Fingerprinting Demo</title>
</head>
<body>
  <h1>Fingerprint Test</h1>
  <button onclick="runFingerprint()">Get Fingerprints</button>

  <h2>Results</h2>
  <p><strong>Audio Fingerprint:</strong> <span id="audio-fp">N/A</span></p>
  <p><strong>Canvas Fingerprint:</strong> <span id="canvas-fp">N/A</span></p>
  <p><strong>Combined:</strong> <span id="combined-fp">N/A</span></p>

  <script type="module">
    import {
      getAudioFingerprint,
      getCanvasFingerprint,
      getCombinedFingerprint
    } from './fingerprint.js';

    window.runFingerprint = async function () {
      document.getElementById('audio-fp').textContent = 'Calculating...';
      document.getElementById('canvas-fp').textContent = 'Calculating...';
      document.getElementById('combined-fp').textContent = 'Calculating...';

      try {
        const { audio, canvas, combined } = await getCombinedFingerprint();
        document.getElementById('audio-fp').textContent = audio;
        document.getElementById('canvas-fp').textContent = canvas;
        document.getElementById('combined-fp').textContent = combined;
      } catch (err) {
        document.getElementById('audio-fp').textContent = 'Error';
        document.getElementById('canvas-fp').textContent = 'Error';
        document.getElementById('combined-fp').textContent = 'Error';
        console.error(err);
      }
    };
  </script>
</body>
</html>
