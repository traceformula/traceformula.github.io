<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Interactive Solar System</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: radial-gradient(ellipse at center, #000010 0%, #000000 100%);
      color: white;
      font-family: Arial, sans-serif;
    }
    canvas {
      display: block;
    }
    #popup {
      position: absolute;
      background: rgba(0,0,0,0.8);
      color: white;
      border: 1px solid #444;
      padding: 10px;
      border-radius: 8px;
      pointer-events: auto;
      display: none;
      max-width: 220px;
      z-index: 10;
    }
    #popup h3 {
      margin: 0 0 5px;
      font-size: 16px;
      color: #ffd700;
    }
    #popup p {
      margin: 0 0 10px;
      font-size: 13px;
      line-height: 1.3em;
    }
    #popup a {
      color: #00bfff;
      text-decoration: none;
    }
    #popup a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
<canvas id="space"></canvas>
<div id="popup">
  <h3 id="popup-title"></h3>
  <p id="popup-desc"></p>
  <a id="popup-link" href="#" target="_blank">Learn more</a>
</div>

<script>
const canvas = document.getElementById("space");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let w = canvas.width;
let h = canvas.height;

// Global pause flag
let systemPaused = false;

// Popup DOM
const popup = document.getElementById("popup");
const popupTitle = document.getElementById("popup-title");
const popupDesc = document.getElementById("popup-desc");
const popupLink = document.getElementById("popup-link");

class Planet {
  constructor(name, color, size, distance, speed, desc, url) {
    this.name = name;
    this.color = color;
    this.size = size;
    this.distance = distance;
    this.speed = speed;
    this.angle = Math.random() * Math.PI * 2;
    this.desc = desc;
    this.url = url;
  }

  draw() {
    const x = w/2 + this.distance * Math.cos(this.angle);
    const y = h/2 + this.distance * Math.sin(this.angle);

    // Orbit path
    ctx.beginPath();
    ctx.strokeStyle = "rgba(255,255,255,0.05)";
    ctx.arc(w/2, h/2, this.distance, 0, Math.PI * 2);
    ctx.stroke();

    // Planet
    ctx.beginPath();
    ctx.fillStyle = this.color;
    ctx.arc(x, y, this.size, 0, Math.PI * 2);
    ctx.fill();

    // Store position for hover detection
    this.screenX = x;
    this.screenY = y;
  }

  update() {
    if (!systemPaused) {
      this.angle += this.speed;
    }
    this.draw();
  }
}

// Sun
function drawSun() {
  const gradient = ctx.createRadialGradient(w/2, h/2, 10, w/2, h/2, 60);
  gradient.addColorStop(0, "yellow");
  gradient.addColorStop(1, "rgba(255,140,0,0)");
  ctx.beginPath();
  ctx.fillStyle = gradient;
  ctx.arc(w/2, h/2, 40, 0, Math.PI * 2);
  ctx.fill();
}

// Planets
const planets = [
  new Planet("Mercury", "gray", 5, 60, 0.03,
    "The closest planet to the Sun, Mercury is a rocky world with extreme temperatures.",
    "https://solarsystem.nasa.gov/planets/mercury/overview/"),
  new Planet("Venus", "orange", 8, 100, 0.02,
    "Venus has a thick, toxic atmosphere and surface temperatures hot enough to melt lead.",
    "https://solarsystem.nasa.gov/planets/venus/overview/"),
  new Planet("Earth", "blue", 9, 150, 0.015,
    "Our home planet, the only known world with life and liquid water on its surface.",
    "https://solarsystem.nasa.gov/planets/earth/overview/"),
  new Planet("Mars", "red", 7, 200, 0.012,
    "Known as the Red Planet, Mars is a target for future exploration and colonization.",
    "https://solarsystem.nasa.gov/planets/mars/overview/"),
  new Planet("Jupiter", "orange", 20, 270, 0.008,
    "The largest planet in the Solar System, with dozens of moons and the Great Red Spot.",
    "https://solarsystem.nasa.gov/planets/jupiter/overview/"),
  new Planet("Saturn", "goldenrod", 17, 340, 0.006,
    "Famous for its spectacular ring system, Saturn is a gas giant made mostly of hydrogen.",
    "https://solarsystem.nasa.gov/planets/saturn/overview/"),
  new Planet("Uranus", "lightblue", 14, 400, 0.004,
    "An ice giant tilted on its side, Uranus has a pale blue-green color due to methane.",
    "https://solarsystem.nasa.gov/planets/uranus/overview/"),
  new Planet("Neptune", "royalblue", 14, 460, 0.003,
    "The farthest known planet, Neptune is a windy ice giant with a deep blue color.",
    "https://solarsystem.nasa.gov/planets/neptune/overview/")
];

// Mouse hover handler
function checkHover(e) {
  const mx = e.offsetX;
  const my = e.offsetY;

  let hoveringPlanet = null;
  planets.forEach(p => {
    const dx = mx - p.screenX;
    const dy = my - p.screenY;
    const dist = Math.sqrt(dx*dx + dy*dy);
    if (dist < p.size + 5) {
      hoveringPlanet = p;
    }
  });

  // Check if mouse is over popup itself
  const popupRect = popup.getBoundingClientRect();
  const mouseOverPopup = (e.clientX >= popupRect.left && e.clientX <= popupRect.right &&
                          e.clientY >= popupRect.top && e.clientY <= popupRect.bottom);

  if (hoveringPlanet || mouseOverPopup) {
    systemPaused = true;
    if (hoveringPlanet) {
      popup.style.display = "block";
      popup.style.left = (mx - 15) + "px";
      popup.style.top = (my - 15) + "px";
      popupTitle.textContent = hoveringPlanet.name;
      popupDesc.textContent = hoveringPlanet.desc;
      popupLink.href = hoveringPlanet.url;
    }
  } else {
    systemPaused = false;
    popup.style.display = "none";
  }
}

canvas.addEventListener("mousemove", checkHover);
popup.addEventListener("mousemove", checkHover);

// Animation loop
function animate() {
  ctx.clearRect(0, 0, w, h);
  drawSun();
  planets.forEach(p => p.update());
  requestAnimationFrame(animate);
}
animate();

// Resize handling
window.addEventListener("resize", () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  w = canvas.width;
  h = canvas.height;
});
</script>
</body>
</html>
